<!-- 继承base.html模板 -->
{% extends 'base.html' %}

<!-- 覆盖title块，设置页面标题 -->
{% block title %}我的照片{% endblock %}

<!-- 覆盖content块，定义页面主要内容 -->
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">我的照片</h4>
    <a href="{% url 'upload_photo' %}" class="btn btn-primary btn-sm">上传照片</a>
</div>

<div class="photo-grid">
    {% for photo in photos %}
        <div class="col-6">
            <div class="card h-100">
                <a href="{% url 'photo_detail' photo.pk %}">
                    <img src="{{ photo.image.url }}" class="card-img-top" alt="{{ photo.title }}" style="width: 100%; height: 200px; object-fit: cover;">
                </a>
                <div class="card-body p-2">
                    <h6 class="card-title mb-1 text-truncate" style="font-size: 0.9rem;">{{ photo.title }}</h6>
                    <p class="card-text small text-muted mb-1">
                        <small>
                            {% if photo.album.approved %}已审核{% else %}待审核{% endif %}
                        </small>
                    </p>
                    <!-- 删除按钮 -->
                    <a href="{% url 'delete_photo' photo.pk %}" class="btn btn-danger btn-sm w-100">删除</a>
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col-12">
            <div class="alert alert-info text-center">
                <h4>暂无照片</h4>
                <p>您还没有上传任何照片。<a href="{% url 'upload_photo' %}">立即上传</a></p>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}