{% extends 'common.html' %}

{% load static %}
{% load like_extras %}

{% block title %}关注的用户最新相册{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/photos/masonry.css' %}">
    {% if following_users %}
    <div class="masonry-grid" id="masonry-grid">
        {% include 'photos/following_albums_content.html' %}
    </div>
    <!-- 加载更多按钮和加载指示器 -->
    <div id="load-more-container" class="text-center my-4 {% if not albums.has_next %}d-none{% endif %}">
        <button id="loadfollowing-more-btn" class="btn btn-primary">加载更多</button>
        <div id="loading-spinner" class="spinner-border text-primary" role="status" style="display: none;">
            <span class="visually-hidden">加载中...</span>
        </div>
    </div>
    {% if not albums.has_next %}
        <div class="text-center text-muted py-3">没有更多内容了</div>
    {% endif %}
    {% else %}
        <p class="text-center text-muted">暂无关注的用户上传相册</p>
    {% endif %}
{% endblock %}

{% block js %}
{% endblock %}