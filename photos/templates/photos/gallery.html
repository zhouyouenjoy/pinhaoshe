<!-- 继承base.html模板 -->
{% extends 'base.html' %}

<!-- 覆盖title块，设置页面标题 -->
{% block title %}照片画廊{% endblock %}

<!-- 覆盖content块，定义页面主要内容 -->
{% block content %}
<div class="photo-grid">
    {% for photo in photos %}
        <div class="col-6">
            <div class="card h-100">
                <a href="{% url 'photo_detail' photo.pk %}">
                    <img src="{{ photo.image.url }}" class="card-img-top" alt="{{ photo.title }}" style="width: 100%; height: 200px; object-fit: cover;">
                </a>
                <div class="card-body p-2">
                    <h6 class="card-title mb-1 text-truncate" style="font-size: 0.9rem;">{{ photo.title }}</h6>
                    <p class="card-text small text-muted mb-0">
                        <small>by {{ photo.uploaded_by.username }}</small>
                    </p>
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col-12">
            <div class="alert alert-info text-center">
                <h4>暂无照片</h4>
                <p>还没有用户上传照片，或者没有已审核的照片。</p>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}